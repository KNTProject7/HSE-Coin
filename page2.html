<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Страница улучшения клика</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <p id="scoreDisplay">Points <span id="score">0</span></p>

    <!-- Кнопка для улучшения клика -->
    <button class="button2" id="upgradeClickButton">Улучшить клик ()</button>

    <!-- Нижний бар с иконками -->
    <div class="bottom-bar">
        <a href="index.html" class="icon"><i class="fas fa-home"></i></a> <!-- Возврат на главную -->
        <a href="page2.html" class="icon"><i class="fas fa-gamepad"></i></a>
        <a href="page3.html" class="icon"><i class="fas fa-user"></i></a>
        <a href="page4.html" class="icon"><i class="fas fa-cog"></i></a>
    </div>

    <script>
        // Загружаем текущий баланс и значение клика из localStorage
        let score = parseInt(localStorage.getItem('score')) || 1000; // Используйте значение из localStorage, либо 1000 по умолчанию
        let price1 = parseInt(localStorage.getItem('price1')) || 1000; // Используйте значение из localStorage, либо 1000 по умолчанию
        let clickValue = parseInt(localStorage.getItem('clickValue')) || 1; // Значение клика

        const scoreElement = document.getElementById('score');
        const upgradeClickButton = document.getElementById('upgradeClickButton');
        const upgradeMaxButton = document.getElementById('upgradeMaxButton');

        // Обновляем отображение счёта
        scoreElement.textContent = score;
        

        // Функция для улучшения клика (покупка 1 улучшения)
        upgradeClickButton.addEventListener('click', function() {
            if (score >= price1) {
                score -= price1; // Отнимаем 500 очков за улучшение
                clickValue += 1; // Увеличиваем значение клика на 1
                scoreElement.textContent = score; // Обновляем отображение счёта
                price1 = price1 * 1.2

                // Сохраняем новое значение клика и баланса в localStorage
                localStorage.setItem('clickValue', clickValue);
                localStorage.setItem('score', score); // Сохраняем обновлённый баланс
                localStorage.setItem('price1', price1); //Цена первого улучшения
            }
        });

    </script>

</body>
</html>
